description: Run pre-commit to lint the collection files
docker:
  - image: cimg/python:3.8
resource_class: small
parameters:
  requirements-file:
    description: Path to the projects requirements.txt file that includes pre-commit
    type: string
    default: requirements.txt
steps:
  - checkout
  - setup_remote_docker:
      docker_layer_caching: true
  - install-requirements-txt:
      file: <<parameters.requirements-file>>
  - run:
      command: pre-commit run --all-files
      name: Run pre-commit
